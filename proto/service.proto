syntax = "proto2";

package proto;
option go_package = "learningGo/proto";
message User {
  required string id = 1;
  required string name = 2;
}

message Message {
  required string id = 1;
  required string content = 2;
  required string timestamp = 3;
}

message Connect {
  required User user = 1;
  required bool active = 2;
}

message Close{}

service Broadcast {
  rpc CreateStream(Connect) returns (stream Message);
  rpc BroadcastMessage(Message) returns (Close);
}